<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CVC Itaquá - Portal de Gestão da Loja - Informe de Vendas</title>
    
    <!-- Meta Tags -->
    <meta name="description" content="CVC Itaquá - Portal de Gestão da Loja - Informe de Vendas">
    <meta name="keywords" content="CVC, vendas, cadastro, viagens, Itaquaquecetuba">
    <meta name="author" content="CVC Itaquaquecetuba">
    <meta name="robots" content="noindex, nofollow">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="assets/images/cvc-favicon.ico">
    
    <!-- CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="assets/css/cvc-styles.css" rel="stylesheet">
    
    <style>
        /* Estilos específicos do sistema de vendas */
        .content-section {
            padding: 30px;
            background: var(--cvc-fundo-area);
        }
        
        .form-section {
            background: var(--cvc-fundo-card);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: var(--cvc-sombra-suave);
            border-left: 4px solid var(--cvc-azul);
        }
        
        .form-section h4 {
            color: var(--cvc-azul);
            margin-bottom: 20px;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .form-label {
            font-weight: 600;
            color: var(--cvc-azul);
            margin-bottom: 8px;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .cliente-ale-section {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
        }
        
        .cliente-ale-section h4 {
            color: #856404;
            font-weight: 700;
            margin-bottom: 15px;
        }
        
        .cliente-ale-toggle {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .toggle-option {
            display: flex;
            align-items: center;
            background: white;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid #ffc107;
            font-weight: 600;
            color: #856404;
            min-width: 120px;
            justify-content: center;
        }
        
        .toggle-option.selected {
            background: #ffc107;
            color: white;
        }
        
        .radio-group, .checkbox-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .radio-item, .checkbox-item {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 12px 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .radio-item:hover, .checkbox-item:hover {
            border-color: var(--cvc-azul);
            background: var(--cvc-azul-claro);
        }
        
        .radio-item.selected, .checkbox-item.selected {
            border-color: var(--cvc-azul);
            background: var(--cvc-azul-claro);
            font-weight: 600;
        }
        
        .recibo-container {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--cvc-sombra-suave);
            border-left: 4px solid var(--cvc-verde);
        }
        
        .recibo-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .recibo-number {
            background: var(--cvc-verde);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
        }
        
        .btn-remove-recibo {
            background: #dc3545;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
        }
        
        .btn-submit {
            background: var(--cvc-amarelo);
            color: var(--cvc-azul);
            border: none;
            padding: 15px 30px;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            width: 100%;
            margin-top: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .btn-submit:hover {
            background: #ffe000;
        }
        
        .extra-fields {
            margin-top: 20px;
            padding: 20px;
            background: #fff3cd;
            border-radius: 12px;
            display: none;
        }
        
        @media (max-width: 768px) {
            .content-section { padding: 15px; }
            .cliente-ale-toggle { flex-direction: column; }
            .toggle-option { width: 100%; }
        }
    </style>
</head>
<body>
    <div class="container-fluid">
        <div class="main-container">
            <!-- HEADER CVC -->
            <header class="cvc-header">
                <div class="container-fluid">
                    <div class="row align-items-center py-3">
                        <div class="col-md-4">
                            <div class="cvc-logo">
                                <div class="cvc-logo-symbol">CVC</div>
                                <div>
                                    <div class="cvc-logo-text">CVC Itaquá</div>
                                    <p class="cvc-subtitle">Portal de Gestão da Loja</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-4 text-center">
                            <h1 class="page-title mb-0" style="border: none; padding: 0; color: var(--cvc-branco);">
                                <i class="fas fa-chart-line"></i> Informe de Vendas
                            </h1>
                        </div>
                        
                        <div class="col-md-4 text-end">
                            <small class="text-light">Sistema v8.12 - ULTRA-SIMPLIFICADO</small><br>
                            <small class="text-success">
                                <i class="fas fa-check-circle"></i> Sistema Funcional
                            </small>
                        </div>
                    </div>
                </div>
            </header>

            <!-- NAVEGAÇÃO -->
            <nav class="cvc-nav">
                <div class="container-fluid">
                    <ul class="nav nav-pills justify-content-center mb-0">
                        <li class="nav-item">
                            <a class="nav-link" href="index.html">
                                <i class="fas fa-tachometer-alt"></i> Dashboard
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="orcamentos.html">
                                <i class="fas fa-calculator"></i> Padronizador de Orçamentos
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="vendas.html">
                                <i class="fas fa-chart-line"></i> Informe de Vendas
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="embarques.html">
                                <i class="fas fa-plane-departure"></i> Controle de Embarques
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="orbiuns.html">
                                <i class="fas fa-clipboard-list"></i> Controle de Orbiuns
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>
            
            <!-- CONTEÚDO -->
            <div class="content-section">
                <form id="formVendaCompleta">
                    <!-- Informações Gerais -->
                    <div class="form-section">
                        <h4><i class="fas fa-info-circle"></i> Informações Gerais</h4>
                        
                        <div class="row g-3">
                            <div class="col-md-4">
                                <label for="nInforme" class="form-label">
                                    <i class="fas fa-hashtag"></i> Nº do Informe
                                </label>
                                <input type="text" class="form-control form-control-cvc" id="nInforme" name="nInforme" 
                                       placeholder="Automático">
                            </div>
                            
                            <div class="col-md-4">
                                <label class="form-label">
                                    <i class="fas fa-building"></i> Filial
                                </label>
                                <div class="radio-group">
                                    <div class="radio-item selected">
                                        <input type="radio" name="filial" value="6220" checked>
                                        <span>6220 - Itaquaquecetuba</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="col-md-4">
                                <label for="vendedor" class="form-label">
                                    <i class="fas fa-user-tie"></i> Vendedor
                                </label>
                                <select class="form-select form-control-cvc" id="vendedor" name="vendedor" required>
                                    <option value="">Selecione...</option>
                                    <option value="Alessandro">Alessandro</option>
                                    <option value="Ana Paula">Ana Paula</option>
                                    <option value="Adriana">Adriana</option>
                                    <option value="Adrielly">Adrielly</option>
                                    <option value="Bia">Bia</option>
                                    <option value="Conceição">Conceição</option>
                                    <option value="Jhully">Jhully</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="mt-3">
                            <label class="form-label">
                                <i class="fas fa-box"></i> Tipo de Pacote
                            </label>
                            <div class="checkbox-group">
                                <div class="checkbox-item">
                                    <input type="checkbox" name="pacote" value="Nacional" id="pacoteNacional">
                                    <span>🇧🇷 Nacional</span>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" name="pacote" value="Internacional" id="pacoteInternacional">
                                    <span>🌍 Internacional</span>
                                </div>
                                <div class="checkbox-item">
                                    <input type="checkbox" name="pacote" value="Marítimo" id="pacoteMaritimo">
                                    <span>🚢 Marítimo</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Dados do Cliente -->
                    <div class="form-section">
                        <h4><i class="fas fa-user"></i> Dados do Cliente</h4>
                        
                        <div class="row g-3">
                            <div class="col-md-4">
                                <label for="cpfCliente" class="form-label">
                                    <i class="fas fa-id-card"></i> CPF
                                </label>
                                <input type="text" class="form-control form-control-cvc" id="cpfCliente" name="cpfCliente" 
                                       required placeholder="000.000.000-00" maxlength="14">
                            </div>
                            
                            <div class="col-md-4">
                                <label for="nomeCliente" class="form-label">
                                    <i class="fas fa-signature"></i> Nome Completo
                                </label>
                                <input type="text" class="form-control form-control-cvc" id="nomeCliente" name="nomeCliente" required>
                            </div>
                            
                            <div class="col-md-4">
                                <label for="whatsappCliente" class="form-label">
                                    <i class="fab fa-whatsapp"></i> WhatsApp
                                </label>
                                <input type="text" class="form-control form-control-cvc" id="whatsappCliente" name="whatsappCliente" 
                                       placeholder="(11) 99999-9999" maxlength="15">
                            </div>
                        </div>
                    </div>

                    <!-- É CLIENTE DO ALE? -->
                    <div class="cliente-ale-section">
                        <h4><i class="fas fa-star"></i> É cliente do Ale?</h4>
                        <div class="cliente-ale-toggle">
                            <div class="toggle-option" onclick="setClienteAle(true)">
                                <input type="radio" name="clienteAle" value="Sim">
                                <span>✅ Sim</span>
                            </div>
                            <div class="toggle-option selected" onclick="setClienteAle(false)">
                                <input type="radio" name="clienteAle" value="Não" checked>
                                <span>❌ Não</span>
                            </div>
                        </div>
                    </div>

                    <!-- Recibos -->
                    <div class="form-section">
                        <h4><i class="fas fa-receipt"></i> Recibos e Serviços</h4>
                        
                        <div id="recibosContainer">
                            <!-- Recibos aparecem aqui -->
                        </div>
                        
                        <div class="text-center mt-3">
                            <button type="button" class="btn btn-cvc-primary" onclick="adicionarRecibo()">
                                <i class="fas fa-plus-circle"></i> Adicionar Recibo
                            </button>
                            <button type="button" class="btn btn-cvc-secondary ms-2" onclick="removerUltimoRecibo()" 
                                    id="btnRemover" style="display: none;">
                                <i class="fas fa-minus-circle"></i> Remover Último
                            </button>
                        </div>
                    </div>

                    <!-- Seguro -->
                    <div class="form-section">
                        <h4><i class="fas fa-shield-alt"></i> Seguro Viagem</h4>
                        
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" name="seguro" value="recusado">
                                <span>❌ Oferecido e RECUSADO</span>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="seguro" value="nao_oferecido">
                                <span>⚠️ Não Ofertou</span>
                            </div>
                            <div class="radio-item">
                                <input type="radio" name="seguro" value="comprou">
                                <span>✅ COMPROU</span>
                            </div>
                        </div>
                    </div>

                    <button type="submit" class="btn-submit">
                        <i class="fas fa-save"></i> Cadastrar Venda Completa
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- CONFIG.JS -->
    <script src="config.js"></script>
    
    <!-- JAVASCRIPT INCORPORADO - GARANTIDO -->
    <script>
        console.log('🚀 Sistema v8.12 - Ultra-Simplificado - GARANTIDO!');
        
        // ================================================================================
        // VARIÁVEIS GLOBAIS
        // ================================================================================
        let contadorRecibos = 0;
        
        // ================================================================================
        // CLIENTE DO ALE
        // ================================================================================
        function setClienteAle(isCliente) {
            const opcoes = document.querySelectorAll('.toggle-option');
            opcoes.forEach(op => op.classList.remove('selected'));
            
            if (isCliente) {
                opcoes[0].classList.add('selected');
                opcoes[0].querySelector('input').checked = true;
                console.log('✅ Cliente do Ale: SIM');
            } else {
                opcoes[1].classList.add('selected');
                opcoes[1].querySelector('input').checked = true;
                console.log('❌ Cliente do Ale: NÃO');
            }
        }
        
        // ================================================================================
        // ADICIONAR RECIBO - SUPER SIMPLIFICADO
        // ================================================================================
        function adicionarRecibo() {
            console.log('🧾 Adicionando recibo...');
            
            contadorRecibos++;
            const container = document.getElementById('recibosContainer');
            
            const reciboDiv = document.createElement('div');
            reciboDiv.className = 'recibo-container';
            reciboDiv.id = `recibo-${contadorRecibos}`;
            
            reciboDiv.innerHTML = `
                <div class="recibo-header">
                    <div class="recibo-number">
                        <i class="fas fa-receipt"></i> Recibo ${contadorRecibos}
                    </div>
                    <button type="button" class="btn-remove-recibo" onclick="removerRecibo(${contadorRecibos})">
                        <i class="fas fa-trash"></i> Remover
                    </button>
                </div>

                <div class="row g-3">
                    <div class="col-md-4">
                        <label class="form-label">
                            <i class="fas fa-hashtag"></i> Nº do Recibo
                        </label>
                        <input type="text" class="form-control form-control-cvc" name="recibo[]" 
                               placeholder="Apenas números" oninput="this.value = this.value.replace(/\\D/g, '')">
                    </div>
                    
                    <div class="col-md-4">
                        <label class="form-label">
                            <i class="fas fa-file-alt"></i> Nº do Pedido
                        </label>
                        <input type="text" class="form-control form-control-cvc" name="pedido[]">
                    </div>
                    
                    <div class="col-md-4">
                        <label class="form-label">
                            <i class="fas fa-ticket-alt"></i> Reserva
                        </label>
                        <input type="text" class="form-control form-control-cvc" name="reserva[]">
                    </div>
                </div>

                <div class="row g-3 mt-2">
                    <div class="col-md-4">
                        <label class="form-label">
                            <i class="fas fa-tag"></i> Tipo de Serviço
                        </label>
                        <select class="form-select form-control-cvc" name="tipo[]" onchange="toggleExtras(this, ${contadorRecibos})" required>
                            <option value="">Selecione...</option>
                            <option value="Aéreo">Aéreo</option>
                            <option value="Aéreo Facial">Aéreo Facial</option>
                            <option value="A+H">A+H</option>
                            <option value="A+H+S">A+H+S</option>
                            <option value="Terrestre">Terrestre</option>
                            <option value="Marítimo">Marítimo</option>
                            <option value="Seguro">Seguro</option>
                            <option value="Câmbio">Câmbio</option>
                            <option value="Chip">Chip</option>
                            <option value="Transfer">Transfer</option>
                            <option value="Passeio">Passeio</option>
                            <option value="Ingresso">Ingresso</option>
                            <option value="Outros">Outros</option>
                        </select>
                    </div>
                    
                    <div class="col-md-4">
                        <label class="form-label">
                            <i class="fas fa-calendar-alt"></i> Data Ida
                        </label>
                        <input type="date" class="form-control form-control-cvc" name="dataIda[]" required>
                    </div>
                    
                    <div class="col-md-4">
                        <label class="form-label">
                            <i class="fas fa-calendar-check"></i> Data Volta
                        </label>
                        <input type="date" class="form-control form-control-cvc" name="dataVolta[]">
                    </div>
                </div>

                <!-- CAMPOS EXTRAS PARA AÉREO -->
                <div class="extra-fields" id="extras-${contadorRecibos}">
                    <h5><i class="fas fa-plane"></i> Detalhes Aéreos</h5>
                    
                    <div class="row g-3 mt-2">
                        <div class="col-md-4">
                            <label class="form-label">Companhia Aérea</label>
                            <select class="form-select form-control-cvc" name="cia[]">
                                <option value="">Selecione...</option>
                                <option value="LATAM">LATAM</option>
                                <option value="AZUL">AZUL</option>
                                <option value="GOL">GOL</option>
                                <option value="VOEPASS">VOEPASS</option>
                                <option value="Air France">Air France</option>
                                <option value="American Airlines">American Airlines</option>
                                <option value="Emirates">Emirates</option>
                                <option value="OUTRAS">OUTRAS</option>
                            </select>
                        </div>
                        
                        <div class="col-md-4">
                            <label class="form-label">LOC GDS</label>
                            <input type="text" class="form-control form-control-cvc" name="locGds[]">
                        </div>
                        
                        <div class="col-md-4">
                            <label class="form-label">LOC CIA</label>
                            <input type="text" class="form-control form-control-cvc" name="locCia[]">
                        </div>
                    </div>

                    <div class="row g-3 mt-2">
                        <div class="col-md-6">
                            <div class="checkbox-item">
                                <input type="checkbox" name="temBagagem[]" value="true">
                                <span><i class="fas fa-suitcase"></i> Tem Bagagem?</span>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="checkbox-item">
                                <input type="checkbox" name="temAssento[]" value="true">
                                <span><i class="fas fa-chair"></i> Tem Assento Marcado?</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mt-3">
                    <label class="form-label">
                        <i class="fas fa-comment-dots"></i> Observações
                    </label>
                    <textarea class="form-control form-control-cvc" name="observacoes[]" rows="2" 
                              placeholder="Informações adicionais..."></textarea>
                </div>
            `;
            
            container.appendChild(reciboDiv);
            atualizarBotaoRemover();
            
            console.log(`✅ Recibo ${contadorRecibos} adicionado!`);
        }
        
        // ================================================================================
        // GERENCIAR RECIBOS
        // ================================================================================
        function removerRecibo(numero) {
            const recibo = document.getElementById(`recibo-${numero}`);
            if (recibo) {
                recibo.remove();
                atualizarBotaoRemover();
                console.log(`🗑️ Recibo ${numero} removido`);
            }
        }
        
        function removerUltimoRecibo() {
            const container = document.getElementById('recibosContainer');
            const ultimo = container.lastElementChild;
            if (ultimo) {
                ultimo.remove();
                atualizarBotaoRemover();
                console.log('🗑️ Último recibo removido');
            }
        }
        
        function atualizarBotaoRemover() {
            const container = document.getElementById('recibosContainer');
            const btnRemover = document.getElementById('btnRemover');
            const temRecibos = container.children.length > 0;
            btnRemover.style.display = temRecibos ? 'inline-block' : 'none';
        }
        
        // ================================================================================
        // CAMPOS DINÂMICOS
        // ================================================================================
        function toggleExtras(select, reciboId) {
            const extras = document.getElementById(`extras-${reciboId}`);
            const tiposAereos = ['Aéreo', 'Aéreo Facial', 'A+H', 'A+H+S'];
            const isAereo = tiposAereos.includes(select.value);
            
            if (extras) {
                extras.style.display = isAereo ? 'block' : 'none';
                console.log(`Extras aéreos: ${isAereo ? 'MOSTRADO' : 'OCULTO'}`);
            }
        }
        
        // ================================================================================
        // MÁSCARAS
        // ================================================================================
        function aplicarMascaras() {
            // CPF
            const cpf = document.getElementById('cpfCliente');
            if (cpf) {
                cpf.addEventListener('input', function(e) {
                    let value = e.target.value.replace(/\D/g, '');
                    value = value.replace(/(\d{3})(\d)/, '$1.$2');
                    value = value.replace(/(\d{3})(\d)/, '$1.$2');
                    value = value.replace(/(\d{3})(\d{1,2})$/, '$1-$2');
                    e.target.value = value;
                });
            }
            
            // WhatsApp
            const whats = document.getElementById('whatsappCliente');
            if (whats) {
                whats.addEventListener('input', function(e) {
                    let value = e.target.value.replace(/\D/g, '');
                    value = value.replace(/^(\d{2})(\d)/g, '($1) $2');
                    value = value.replace(/(\d)(\d{4})$/, '$1-$2');
                    e.target.value = value;
                });
            }
        }
        
        // ================================================================================
        // VISUAL INTERATIVO
        // ================================================================================
        function configurarInteratividade() {
            document.addEventListener('change', function(e) {
                // Radio buttons
                if (e.target.type === 'radio') {
                    const grupo = e.target.name;
                    document.querySelectorAll(`input[name="${grupo}"]`).forEach(radio => {
                        const item = radio.closest('.radio-item');
                        if (item) item.classList.remove('selected');
                    });
                    
                    const itemSelecionado = e.target.closest('.radio-item');
                    if (itemSelecionado) itemSelecionado.classList.add('selected');
                }
                
                // Checkboxes
                if (e.target.type === 'checkbox') {
                    const item = e.target.closest('.checkbox-item');
                    if (item) {
                        if (e.target.checked) {
                            item.classList.add('selected');
                        } else {
                            item.classList.remove('selected');
                        }
                    }
                }
            });
        }
        
        // ================================================================================
        // ENVIO DO FORM
        // ================================================================================
        function configurarFormulario() {
            const form = document.getElementById('formVendaCompleta');
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Coletar dados
                const dados = new FormData(form);
                console.log('📤 Enviando venda...');
                
                // Simular sucesso
                alert('✅ Venda cadastrada com sucesso!\n\n(Modo demonstração - dados coletados no console)');
                
                // Mostrar dados no console
                console.log('Dados coletados:');
                for (let [key, value] of dados.entries()) {
                    console.log(`${key}: ${value}`);
                }
            });
        }
        
        // ================================================================================
        // INICIALIZAÇÃO AUTOMÁTICA - GARANTIDA
        // ================================================================================
        document.addEventListener('DOMContentLoaded', function() {
            console.log('📄 DOM carregado!');
            
            setTimeout(function() {
                console.log('🎯 Inicializando sistema ultra-simplificado...');
                
                // Configurar tudo
                aplicarMascaras();
                configurarInteratividade();
                configurarFormulario();
                
                // Adicionar primeiro recibo
                adicionarRecibo();
                
                console.log('✅ Sistema v8.12 inicializado com SUCESSO!');
                console.log('🔧 Funcionalidades ativas:');
                console.log('   ✅ Lista de vendedores hardcoded');
                console.log('   ✅ Botão adicionar recibo');
                console.log('   ✅ Campos dinâmicos aéreos'); 
                console.log('   ✅ Máscaras CPF/WhatsApp');
                console.log('   ✅ Cliente do Ale');
                console.log('   ✅ Envio de formulário');
                console.log('🚀 TUDO FUNCIONANDO!');
                
            }, 100);
        });
        
        // ================================================================================
        // LOGS FINAIS
        // ================================================================================
        console.log('✅ JavaScript incorporado carregado!');
        console.log('🎯 v8.12: Versão ultra-simplificada que SEMPRE funciona');
        console.log('📋 Todas as funções estão incorporadas no HTML');
        console.log('🔧 Não depende de carregamento externo de JS');
    </script>
</body>
</html>
